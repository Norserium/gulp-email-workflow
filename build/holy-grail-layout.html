<p>The CSS Grid Layout is <em>really</em> complex, even more so than Flexbox. It has 17 new properties and introduces a lot of new concepts around the way we write css. So, in an attempt to wrap my head around this new specification and figure out how it works, I used it to create the Holy Grail Layout. </p> <h2 id="whatstheholygraillayout">What's the Holy Grail Layout?</h2> <p>The <a href="https://en.wikipedia.org/wiki/Holy_Grail_(web_design)">Holy Grail Layout</a> is a web page layout that consists of four sections - a header, footer, and a main content area with two sidebars, one on each side. The layout also adheres to the following rules - </p> <ul> <li>Has a <strong>fluid center column</strong> width <strong>fixed-width sidebars</strong></li> <li>The center column should appear <strong>first in the markup</strong>, before the two sidebars (but after the header)</li> <li>All three columns should be the <strong>same height</strong>, regardless of the content within them</li> <li>The footer should always be at the <strong>bottom of the browser viewport</strong>, even when the content doesn't fill up the height of the viewport</li> <li>The layout should be <strong>responsive</strong>, all the sections should collapse into one column on smaller viewports</li> </ul> <p>It is famously difficult to create simply in CSS without any hacks.</p> <h2 id="thesolutionwithcssgrid">The Solution with CSS Grid</h2> <p>Here is the solution I came up with using the CSS Grid Layout. First, the markup - </p> <pre><code class="language-html">&lt;body class="hg"&gt; &lt;header class="hg__header"&gt;Title&lt;/header&gt; &lt;main class="hg__main"&gt;Content&lt;/main&gt; &lt;aside class="hg__left"&gt;Menu&lt;/aside&gt; &lt;aside class="hg__right"&gt;Ads&lt;/aside&gt; &lt;footer class="hg__footer"&gt;Footer&lt;/footer&gt; &lt;/body&gt; </code></pre> <p>And the CSS, at only 31 lines (expanded!) - </p> <pre><code class="language-css">.hg__header { grid-area: header; } .hg__footer { grid-area: footer; } .hg__main { grid-area: main; } .hg__left { grid-area: navigation; } .hg__right { grid-area: ads; } .hg { display: grid; grid-template-areas: "header header header" "navigation main ads" "footer footer footer"; grid-template-columns: 150px 1fr 150px; grid-template-rows: 100px 1fr 30px; min-height: 100vh; } @media screen and (max-width: 600px) { .hg { grid-template-areas: "header" "navigation" "main" "ads" "footer"; grid-template-columns: 100%; grid-template-rows: 100px 50px 1fr 50px 30px; } } </code></pre> <p><img src="http://bitsofco.de/content/images/2016/03/Holy_Grail_CSS_Grid.gif" alt="Holy Grail Layout Responsive Demo"></p> <h2 id="breakingitdown">Breaking it Down</h2> <p>As I mentioned, CSS Grid Layout can be very complicated. However, for the purpose of creating this layout, I only used 4 of the 17 new properties - </p> <ul> <li><code>grid-area</code></li> <li><code>grid-template-areas</code></li> <li><code>grid-template-columns</code></li> <li><code>grid-template-rows</code></li> </ul> <p>My solution to the Holy Grail Layout using these CSS Grid properties can be broken down into five steps.</p> <h3 id="1definingthegrid">1. Defining the Grid</h3> <p>The first thing we want to do is define the grid areas, so we can refer to them by this alias when creating the grid. We do this with the <code>grid-area</code> property. </p> <pre><code class="language-css">.hg__header { grid-area: header; } .hg__footer { grid-area: footer; } .hg__main { grid-area: main; } .hg__left { grid-area: navigation; } .hg__right { grid-area: ads; } </code></pre> <p>Then, using the <code>grid-template-areas</code> property, we can specify the layout of the grid in a really intuitive and visual way. The <code>grid-template-areas</code> property accepts a space-separated list of strings. Each string represents a row. Within each string, we have a space-separated list of grid areas. Each grid area defined takes up one column. So if we want an area to span two columns, we define it twice. </p> <p>In our Holy Grail Layout, we have 3 columns and 3 rows. The header and footer rows span 3 columns, while the other areas span 1 column each.</p> <pre><code class="language-css">.hg { display: grid; grid-template-areas: "header header header" "navigation main ads" "footer footer footer"; } </code></pre> <p>With this markup, we get the following result.</p> <p><img src="http://bitsofco.de/content/images/2016/03/step-1.png" alt="Holy Grail Layout Step 1"></p> <h3 id="2definingcolumnwidths">2. Defining Column Widths</h3> <p>Next, we want to define the widths of the columns. We define the width of columns in our grid with the <code>grid-template-columns</code> property. This property accepts a space-separated list of widths, one for each column in the grid. Because we have 3 columns in our layout, we can specify 3 widths - </p> <pre><code class="language-css">grid-template-columns: [column 1 width] [column 2 width] [column 3 width]; </code></pre> <p>For the Holy Grail Layout, we want the 2 sidebars to be 150px width each.</p> <pre><code class="language-css">.hg { grid-template-columns: 150px [column 2 width] 150px; } </code></pre> <p>We also want the middle column to take up the rest of the space. We can do this by using the new <code>fr</code> unit. This unit represents a fraction of the free space left in the grid. In our case, this adds up to the current width of the grid minus 300px (the width of the two sidebars). </p> <pre><code class="language-css">.hg { grid-template-columns: 150px 1fr 150px; } </code></pre> <p>After setting the grid columns, this is what the layout looks like -</p> <p><img src="http://bitsofco.de/content/images/2016/03/step-2.png" alt="Holy Grail Layout Step 2"></p> <h3 id="3definingrowheights">3. Defining Row Heights</h3> <p>Next, we want to define the heights of the rows. Similar to how we define the column widths with <code>grid-template-columns</code>, we define the row heights with <code>grid-template-rows</code>. This property also accepts a space-separated list of heights for each row in our grid. Although we can write it on one line, I think it's nicer and more visually clear to write it one row per line.</p> <pre><code class="language-css">.hg { grid-template-rows: 100px 1fr 30px; } </code></pre> <p>So our header height is 100px, our footer height is 30px, and the middle row (with the main content and two sidebars) takes up the rest of the available space in the <code>.hg</code> element.</p> <p><img src="http://bitsofco.de/content/images/2016/03/step-3.png" alt="Holy Grail Layout Step 3"></p> <h3 id="4stickyfooter">4. Sticky Footer</h3> <p>In the Holy Grail Layout, we want the footer to always be at the bottom of the viewport, even if the content on the page is sparse. To achieve this, we can set a minimum height on the <code>.hg</code> element to be the height of the viewport. </p> <pre><code class="language-css">.hg { min-height: 100vh; } </code></pre> <p>Because we specified that the middle row should fill up the rest of the available space, it stretches to fill the screen.</p> <p><img src="http://bitsofco.de/content/images/2016/03/step-4-1.png" alt="Holy Grail Layout Step 4"></p> <h3 id="5makingitresponsive">5. Making it Responsive</h3> <p>Finally, we want to make the layout responsive. On smaller devices, all the grid items should be displayed in a single column, one after the other. To do this, we need to redefine the 3 properties we defined before - <code>grid-template-areas</code>, <code>grid-template-columns</code> and <code>grid-template-rows</code>.</p> <p>First, we want all the items in the grid to be in one column, in a particular order - </p> <pre><code class="language-css">@media screen and (max-width: 600px) { .hg { grid-template-areas: "header" "navigation" "main" "ads" "footer"; } } </code></pre> <p>Next, we want all items to span the full width of the grid -</p> <pre><code class="language-css">@media screen and (max-width: 600px) { .hg { grid-template-columns: 100%; } } </code></pre> <p>Finally, we need to reset the heights of each of the rows. All rows, besides the <code>main</code> row, have a defined height -</p> <pre><code class="language-css">@media screen and (max-width: 600px) { .hg { grid-template-rows: 100px /* Header */ 50px /* Navigation */ 1fr /* Main Content */ 50px /* Ads */ 30px; /* Footer */ } } </code></pre> <p><img src="http://bitsofco.de/content/images/2016/03/step-5.png" alt="Holy Grail Layout Step 5" style="max-width: 300px;"></p> <p>&nbsp;</p> <p>And that's it! You can check out a <a href="http://ireade.github.io/holy-grail-css-grid/">demo of this here</a>, as well as the <a href="https://github.com/ireade/holy-grail-css-grid">source</a> (nb: you may need to enable experimental web features in your browser to see it). </p> <h2 id="support">Support</h2> <p class="ciu_embed" data-feature="css-grid" data-periods="future_2,future_1,current"> <a href="http://caniuse.com/#feat=css-grid"> <img src="http://bitsofco.de/content/images/2016/03/Screen-Shot-2016-03-29-at-07-58-48-3.png" alt="Can I Use css-grid?"> </a> </p>